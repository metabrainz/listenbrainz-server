{%- extends 'base.html' -%}
{%- block title -%}Status - ListenBrainz{%- endblock -%}
{%- block content -%}

  <h2 class="page-title">Current status</h2>

  <div class="row">

    <div class="col-md-7 col-lg-8">
      <h3>ListenBrainz Stats</h3>
      <table class="table table-border table-condensed table-striped">
        <thead>
          <tr>
            <th>Description</th>
            <th>Number</th>
          </tr>
        </thead>
        <tbody>
        {% if user_count %}
          <tr>
            <td>Number of Users</td>
            <td>{{ user_count }}</td>
          </tr>
        {% endif %}
        {% if listen_count %}
          <tr>
            <td>Number of listens</td>
            <td>{{ listen_count }}</td>
          </tr>
        {% endif %}
          <tr>
            <td>Number of incoming listens / items queued</td>
            <td>{{ incoming_count }} / {{ incoming_len }}</td>
          </tr>
          <tr>
            <td>Number of unique (new) listens / items queued</td>
            <td>{{ unique_count }} / {{ unique_len }}</td>
          </tr>
          <tr>
            <td>Number of people in queue for alpha imports</td>
            <td>{{ alpha_importer_size }}</td>
          </tr>
        </tbody>
      </table>

      <h3>load average</h3>

      <p>
        Current server load average
      </p>
      <div class="well">
         {{ load }}
      </div>

    </div>

    <div class="col-md-5 col-lg-4">

      <p style="text-align: center">
         <img style="border-radius: 15px;"
              src="{{ url_for('static', filename='img/selfie.jpg') }}"
              width="250"></img>
      </p>

      <p style="text-align: center">
         Our server doesn't have a selfie. :(</br>
         Have a monkey selfie instead!
         </p>
      </p>

    </div>

  </div>

{%- endblock -%}
