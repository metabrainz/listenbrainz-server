
{%- from 'art/svg-templates/macros.j2' import render_entity_link -%}

<svg
    width="924"
    height="924"
    viewBox="0 0 924 924"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
    xmlns:dc="http://purl.org/dc/elements/1.1/"
    xmlns:cc="http://creativecommons.org/ns#"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    version="1.1"
    role="img"
    preserveAspectRatio="xMinYMin meet">
    <title>Top 10 artists of {{ year }} for {{ user_name }}</title>
    <desc>&#xA;
        {%- for artist in artists[:10] -%}
        {%- if loop.index == 10 -%}X{%- else -%}{{- loop.index -}}{%- endif -%}. {{ artist.artist_name }}&#xA;
        {%- endfor -%}
    </desc>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;900');
        text {
        fill: #F0EEE2;
        font-family: Inter, sans-serif;
        font-weight: 900;
        }
        .branding {
        font-size: 20px;
        letter-spacing: 0em;
        font-weight: 900;
        }
        .track-name, .track-name * {
        font-size: 20px;
        }
        .artist-name, .artist-name * {
        font-size: 20px;
        font-weight: 300;
        }
        .accent-color-stroke {
        stroke: {{ accent_color }};
        }
        stop:first-child {
        stop-color: {{background_color_1}};
        }
        .bg-color-1 {
        fill: {{background_color_1}};
        }
        stop:nth-child(2) {
        stop-color: {{background_color_2}};
        }
        .bg-color-2 {
        fill: {{background_color_2}};
        }
    </style>
    <defs id="defs42">
        <linearGradient id="gradient" x1="-20%" y1="-20%" x2="100%" y2="100%"
            gradientUnits="userSpaceOnUse">
            <stop offset="0" stop-color="#083b2b" />
            <stop offset="1" stop-color="#111820" />
        </linearGradient>
        <clipPath id="clip">
            <use xlink:href="#background" />
        </clipPath>
    </defs>
    <g clip-path="url(#clip)" letter-spacing="0em" font-weight="900" font-family="Inter, sans-serif"
        fill="#006D39">

        <rect id="background" height="924" fill="url(#gradient)" rx="4" ry="4" width="924" y="0"
            x="0" />
        <rect width="770" height="770" x="77" y="77" fill="#00000040" rx="8" ry="8" />
        {% if branding != False %}
        <g id="g1264">
            {% if anonymous != True %}
            <text class="branding" x="30" y="43" id="text1248">{{user_name|upper|e}}</text>
            {% endif %}
            <text class="branding" x="30" y="897" id="text1250">10 TOP ARTISTS OF {{year}}</text>
            <text class="branding" x="894" y="897" id="text1246" text-anchor="end">LISTENBRAINZ</text>
            <text class="branding" x="894" y="43" id="text1252" text-anchor="end">#YEARINMUSIC</text>
        </g>
        {% endif %}
        {% set y_start = 130 %} {% set y_lines_start = 117 %} {% set gap = 75 %} <g font-size="35px">
        {% for artist in artists[:10] %} <text
                id="artist-{{ loop.index }}">
                <tspan x="50" y="{{ y_start + loop.index0 * gap }}"
                    id="artist-{{ loop.index }}-number">
                    {% if loop.index == 10 %}
                    X
                    {% else %}
                    {{ loop.index }}
                    {% endif %}
                </tspan>
                <tspan x="90" y="{{ y_start + loop.index0 * gap }}"
                    id="artist-{{ loop.index }}">
                    {{ render_entity_link("artist", artist.artist_mbid, artist.artist_name) }}
                </tspan>
            </text>
        {% endfor %} </g>
        <g id="lines" class="accent-color-stroke"> {% for _ in artists[:10] %} <line
                x1="0"
                y1="{{ y_lines_start + loop.index0 * gap }}"
                x2="925"
                y2="{{ y_lines_start + loop.index0 * gap }}"
                id="line-{{ loop.index }}" /> {% endfor %} </g>
    </g>
</svg>